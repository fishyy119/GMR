# 笔记

## SMPLX数据输出格式

`List[Dict[str,Tuple[NDArray,NDArray]]]`：列表的索引为帧数，字典的索引为smplx关节，Tuple存储全局位置与全局姿态（wxyz）

## 配置文件中的姿态偏移

应该是机器人的零位姿态与运动数据零位姿态不同引入的偏移，把G1的模型摆到T-pose后发现和smplx_to_g1.json的偏移定义一样。

> SMPL各关节姿态的零位应该是T-pose？看上去SMPL数据在T-pose下所有关节坐标系都是一个方向。

## smplx_to_g1.json

### g1的torso_link对应的spine3在位置上有很大区别

观察优化权重发现这部分位置权重一直是0，只优化姿态，这样一看或许是合理的。

### 关节匹配表中肩膀位置不匹配

g1的肩膀运动链是pitch-roll-yaw，实际上与smpl肩部关节位置重合的应该是pitch关节，但是匹配表里写的是yaw。

或许是运动链顺序的问题，优化pitch关节位姿只能靠腰部，肩部自由度优化不到，肩膀位置或许只需要提供一个大概指引就够了。

在调试仅有很短T-pose片段的bvh文件时发现的上述问题，虽然在smplx数据集上没发现，但也有可能是连续运动掩盖了这点？
